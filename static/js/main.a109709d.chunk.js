(this["webpackJsonpseries-tracker"]=this["webpackJsonpseries-tracker"]||[]).push([[0],{64:function(e,t,s){},86:function(e,t,s){},92:function(e,t,s){"use strict";s.r(t);var a=s(0),c=s.n(a),n=s(8),r=s.n(n),i=(s(64),s(4)),l=s(23),o=s(57),j=s(16),u=s(2),d=s(26),b=s(29),O=s.n(b),h="ADD_TO_FAVORITE_LIST",m="REQUEST_POSTS",f="RECEIVE_POSTS",_="SET_REASERCHED_SERIALS",x=function(e,t){return{type:_,resultOfSearching:e,statusOfSearching:t}};function g(){return function(e){e({type:m,statusOfLoading:!0}),O.a.get("https://api.tvmaze.com/shows").then((function(e){return e})).then((function(t){return e({type:f,statusOfLoading:!1,posts:t})})).catch((function(e){console.log(e)}))}}var p=localStorage.getItem("bookedList"),A={statusOfLoading:!0,posts:[],numberForBookedSerials:p?p.split(",").map((function(e){return+e})):[],bookedSerials:[],searchedList:{list:null,state:!1}};function N(e,t){return e.includes(t)?e.filter((function(e){return e!==t})):(localStorage.setItem("bookedList",[].concat(Object(d.a)(e),[t])),[].concat(Object(d.a)(e),[t]))}function v(e,t){return e.map((function(e){return function(e,t){return e.includes(t)}(t,e.id)?Object.assign({},e,{booked:!0}):Object.assign({},e,{booked:!1})}))}function S(e,t){for(var s=[],a=function(a){s.push(t.find((function(t){if(t.id===e[a])return t})))},c=0;c<e.length;c++)a(c);return s}var w="TOGGLE_NAVBAR_STATUS",k={navStatus:!1},I=Object(l.b)({dataOfSerials:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object.assign({},e,{statusOfLoading:t.statusOfLoading});case f:return Object.assign({},e,{statusOfLoading:t.statusOfLoading,posts:JSON.parse(JSON.stringify(v(t.posts.data,e.numberForBookedSerials))),bookedSerials:S(e.numberForBookedSerials,t.posts.data)});case h:var s=N(e.numberForBookedSerials,t.id),a=v(e.posts,s);return Object.assign({},e,{numberForBookedSerials:s},{posts:JSON.parse(JSON.stringify(a))},{bookedSerials:S(s,a)});case _:return Object.assign({},e,{searchedList:{list:t.resultOfSearching,state:t.statusOfSearching}})}return e},navData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;return t.type===w?Object.assign({},e,{navStatus:t.status}):e}}),L=(s(86),s(5)),C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAADbSURBVFiF7c5BDsFAFIDhV6MttahjCKcQLKzsXccB3MINrGwsJI1FE1sHsJSGVLRRGatKW6nOeyNE8t5u5k3m/wzIjJxMVwAwBMQE+x7mOYhGdHJ3s3Z6rhX2fdRvhLnHtps9FwFfHwYwgAEMYAADGMCAfwcYW2FF4a8APiRybLbCjrDpCCrAhwRGxnIRON78YDp0BAXwjKcXOggs4CWui8AASuM6CFVAZZyKUAEoxymIKgA6jkW8A5DjGEQZQDuuisgDJGwA5Bqs2+AT8RzCvXTrzetR2PE5u3sAGJV5pQnWW+kAAAAASUVORK5CYII=",E=s(1),B={toggleFavoriteList:function(e){return{type:h,id:e}}},y=Object(i.b)((function(){return{}}),B)((function(e){var t=e.state,s=t.booked?"bookmark-active":"bookmark";return Object(E.jsxs)("ul",{className:"card__list",children:[Object(E.jsxs)("li",{className:"card__item",children:[Object(E.jsx)("span",{children:t.externals.thetvdb}),Object(E.jsx)("br",{}),"Followers "]}),Object(E.jsxs)("li",{className:"card__item",children:[Object(E.jsx)("span",{children:t.ended?t.ended.substring(0,4):"\xaf_(\u30c4)_/\xaf"}),Object(E.jsx)("br",{}),"Year"]}),Object(E.jsxs)("li",{className:"card__item",children:[Object(E.jsx)("span",{className:"moreInfo",children:Object(E.jsx)("a",{href:t.url,className:"moreInfo__link",children:"..."})}),Object(E.jsx)("br",{}),"More info"]}),Object(E.jsxs)("li",{className:"card__item",children:[Object(E.jsx)("span",{children:t.network?t.network.name:"\xaf_(\u30c4)_/\xaf"}),Object(E.jsx)("br",{}),"Network"]}),Object(E.jsxs)("li",{className:"card__item",children:[Object(E.jsx)("span",{children:t.network?t.network.country.name:"\xaf_(\u30c4)_/\xaf"}),Object(E.jsx)("br",{}),"Country"]}),Object(E.jsxs)("li",{className:"card__item",children:[Object(E.jsx)("img",{src:C,alt:"Ooops... /n here must be sth",className:s,onClick:function(){return e.toggleFavoriteList(t.id)}}),Object(E.jsx)("br",{}),"Login to folow"]})]})})),F=Object(i.b)((function(e){return{}}))((function(e){return Object(E.jsxs)("div",{className:"card",children:[Object(E.jsx)("div",{className:"card__picture",children:Object(E.jsx)("img",{src:e.state.image.medium,className:"card__img",alt:"card img"})}),Object(E.jsx)("h4",{className:"card__title",children:e.state.name}),Object(E.jsx)(y,{state:e.state})]})})),Y=function(){return Object(E.jsx)("div",{className:"loader"})};function M(e,t){return e.map((function(e,s){if(s<=t)return Object(E.jsx)(F,{state:e},s)}))}var D={fetchPosts:g,setSearchedSerials:x},G=Object(i.b)((function(e){return{dataOfSerials:e.dataOfSerials}}),D)((function(e){var t=e.dataOfSerials,s=t.searchedList,c=Object(a.useState)(50),n=Object(L.a)(c,2),r=n[0],i=n[1],l=!0===t.statusOfLoading?Object(E.jsx)(Y,{}):M(t.posts,r),o=(null===s||void 0===s?void 0:s.list)?M(s.list,r):l;function j(e){var s=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-window.innerHeight,a=document.documentElement,c=document.body;s<=Math.round(a.scrollTop||c&&c.scrollTop||0)&&t.posts.length>=r&&i(r+50)}return Object(a.useEffect)((function(){return t.statusOfLoading&&e.fetchPosts(),function(){window.removeEventListener("scroll",j),e.setSearchedSerials(null,!1)}}),[]),Object(a.useEffect)((function(){window.removeEventListener("scroll",j),window.addEventListener("scroll",j)}),[r,t.posts.length]),Object(E.jsx)("div",{className:"wrapper",onScroll:function(e){return j()},children:Object(E.jsx)("div",{className:"main",onScroll:function(e){return j()},children:o})})})),R=s(37),P=s.n(R),T=s(49),Q=s(30),V=s.n(Q);function H(e,t){return V()(e).format(t)}var U=function(e){var t="null"!==e.state?e.state:"null";return Object(E.jsxs)("div",{className:"episode",children:[Object(E.jsx)("h6",{className:"episode__title",children:"Previous Episode"}),Object(E.jsxs)("div",{className:"episode__box",children:[Object(E.jsxs)("div",{className:"episode__dateBox",children:[Object(E.jsx)("div",{className:"episode__mounthYear",children:H(t.airdate," MMM/DD ")}),Object(E.jsx)("div",{className:"episode__day",children:H(t.airdate,"YY")})]}),Object(E.jsx)("h6",{className:"episode__name",children:t.name}),Object(E.jsxs)("span",{className:"episode__info",children:["Episode ",t.season,"x",t.number,"; ",H(t.airdate,"MMM DD, YYYY")]}),Object(E.jsx)("div",{className:"episode__description",dangerouslySetInnerHTML:{__html:t.summary}})]})]})},K=function(e){var t=e.average;return Object(E.jsxs)("div",{className:"rating",children:[Object(E.jsxs)("div",{className:"rating__stars",children:[Object(E.jsxs)("ul",{className:"rating__list",children:[Object(E.jsx)("li",{className:"rating__star"}),Object(E.jsx)("li",{className:"rating__star"}),Object(E.jsx)("li",{className:"rating__star"}),Object(E.jsx)("li",{className:"rating__star"}),Object(E.jsx)("li",{className:"rating__star"}),Object(E.jsx)("li",{className:"rating__star"}),Object(E.jsx)("li",{className:"rating__star"}),Object(E.jsx)("li",{className:"rating__star"}),Object(E.jsx)("li",{className:"rating__star"}),Object(E.jsx)("li",{className:"rating__star"})]}),Object(E.jsxs)("ul",{className:"rating__list-clone",style:{width:"".concat(10*t,"%")},children:[Object(E.jsx)("li",{className:"rating__star-clone"}),Object(E.jsx)("li",{className:"rating__star-clone"}),Object(E.jsx)("li",{className:"rating__star-clone"}),Object(E.jsx)("li",{className:"rating__star-clone"}),Object(E.jsx)("li",{className:"rating__star-clone"}),Object(E.jsx)("li",{className:"rating__star-clone"}),Object(E.jsx)("li",{className:"rating__star-clone"}),Object(E.jsx)("li",{className:"rating__star-clone"}),Object(E.jsx)("li",{className:"rating__star-clone"}),Object(E.jsx)("li",{className:"rating__star-clone"})]})]}),Object(E.jsx)("span",{className:"rating__text",children:t})]})};var X=function(e){var t,s,a=e.state,c="string"===typeof(t=a.officialSite)?t.match(/\/\/([\w_-]+(?:(?:\.[\w_-]+)+))/)[0].replace("//",""):"\xaf_(\u30c4)_/\xaf";return Object(E.jsxs)("ul",{className:"showInfo__list",children:[Object(E.jsxs)("li",{className:"showInfo__item",children:[" ",Object(E.jsx)("span",{className:"showInfo__bold",children:"Network: "})," ",(s=a.network,null!==s?s.name:"\xaf_(\u30c4)_/\xaf")," "]}),Object(E.jsxs)("li",{className:"showInfo__item",children:[" ",Object(E.jsx)("span",{className:"showInfo__bold",children:"Language: "}),a.language]}),Object(E.jsxs)("li",{className:"showInfo__item",children:[" ",Object(E.jsx)("span",{className:"showInfo__bold",children:"Premiered: "}),V()(a.premiered).format("MMM DD, YYYY")]}),Object(E.jsxs)("li",{className:"showInfo__item",children:[" ",Object(E.jsx)("span",{className:"showInfo__bold",children:"Schedule: "}),a.schedule.days," at ",a.schedule.time," "]}),Object(E.jsxs)("li",{className:"showInfo__item",children:[" ",Object(E.jsx)("span",{className:"showInfo__bold",children:"Status: "}),a.status," "]}),Object(E.jsxs)("li",{className:"showInfo__item",children:[" ",Object(E.jsx)("span",{className:"showInfo__bold",children:"Show Type: "}),a.type," "]}),Object(E.jsxs)("li",{className:"showInfo__item",children:[" ",Object(E.jsx)("span",{className:"showInfo__bold",children:"Genres: "}),a.genres.join(", ")," "]}),Object(E.jsxs)("li",{className:"showInfo__item",children:[" ",Object(E.jsx)("span",{className:"showInfo__bold",children:"Official site: "}),Object(E.jsxs)("a",{href:"https://".concat(c),target:"_blank",rel:"noreferrer",children:[" ",c," "]}),"  "]})]})},q=function(e){var t=e.state;return Object(E.jsxs)("div",{className:"showInfo",children:[Object(E.jsx)("h3",{className:"showInfo__title",children:"Show Info"}),Object(E.jsx)(X,{state:t}),Object(E.jsx)(K,{average:t.rating.average})]})},J=function(e){var t=e.state;return Object(E.jsxs)("div",{className:"booked__container",children:[Object(E.jsxs)("h3",{className:"booked__title",children:[" ",t.name," "]}),Object(E.jsx)("div",{className:"booked__picture",children:Object(E.jsx)("img",{className:"booked__img",src:t.image.medium,alt:"Wow somthing goes wrong"})}),Object(E.jsx)("div",{className:"booked__descriprion",dangerouslySetInnerHTML:{__html:t.summary}}),Object(E.jsx)(q,{state:t})]})},z=function(e){var t=e.state,s=Object(a.useState)("null"),c=Object(L.a)(s,2),n=c[0],r=c[1];return Object(a.useEffect)((function(){function e(){return(e=Object(T.a)(P.a.mark((function e(){var s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get(t._links.previousepisode.href).then((function(e){return e.data}));case 2:s=e.sent,r(s);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(E.jsxs)("div",{className:"booked__box",id:"serial_".concat(e.state.id),children:[Object(E.jsx)(J,{state:t}),Object(E.jsx)(U,{state:n})]})},W=s(95),Z=W.a.Link,$=Object(i.b)((function(e){return{navStatus:e.navData.navStatus}}))((function(e){var t=e.state,s=e.navStatus,c=Object(a.useState)("navbar"),n=Object(L.a)(c,2),r=n[0],i=n[1],l=t.map((function(e,t){return Object(E.jsx)(Z,{href:"#serial_".concat(e.id),title:e.name},t)}));return Object(a.useEffect)((function(){i(s?"navbar-active":"navbar")}),[s]),Object(E.jsxs)("div",{className:r,children:[Object(E.jsx)("h3",{className:"navbar__title",children:" Chose your serial:"}),Object(E.jsx)(W.a,{offsetTop:0,children:l})]})})),ee={toggleNavbarStatus:function(e){return{type:w,status:e}}},te=Object(i.b)((function(e){return{navData:e.navData}}),ee)((function(e){var t=Object(a.useState)(""),s=Object(L.a)(t,2),c=s[0],n=s[1];return Object(E.jsxs)("a",{className:"burger ".concat(c),href:"#",onClick:function(t){t.preventDefault(),t.target.closest(".burger").classList.contains("active")?n(""):n("active"),e.toggleNavbarStatus(!e.navData.navStatus)},children:[Object(E.jsx)("span",{className:"burger__row"}),Object(E.jsx)("span",{className:"burger__row"}),Object(E.jsx)("span",{className:"burger__row"})]})})),se={fetchPosts:g,setSearchedSerials:x},ae=Object(i.b)((function(e){return{dataOfSerials:e.dataOfSerials}}),se)((function(e){var t=e.dataOfSerials.searchedList.list,s=e.dataOfSerials.bookedSerials,c=t||s,n=c.map((function(e,t){return Object(E.jsx)(z,{state:e},t)}));return Object(a.useEffect)((function(){return e.dataOfSerials.statusOfLoading&&e.fetchPosts(),function(){e.setSearchedSerials(null,!1)}}),[]),Object(E.jsxs)("div",{className:"booked",children:[Object(E.jsx)("div",{className:"booked__list",children:n}),Object(E.jsx)($,{state:c}),Object(E.jsx)(te,{})]})}));var ce={setSearchedSerials:x},ne=Object(i.b)((function(e){return{dataOfSerials:e.dataOfSerials}}),ce)((function(e){var t=e.dataOfSerials,s=Object(a.useState)(""),c=Object(L.a)(s,2),n=c[0],r=c[1],i=Object(a.useState)(t.posts),l=Object(L.a)(i,2),o=l[0],j=l[1],b=Object(u.e)().pathname;return Object(a.useEffect)((function(){j("/serials-tracker"===b?t.posts:t.bookedSerials)}),[b,t.statusOfLoading]),Object(a.useEffect)((function(){0===+n&&e.setSearchedSerials(null,!1)}),[n]),Object(E.jsx)("div",{className:"search",children:Object(E.jsxs)("form",{className:"search__form",role:"search",onSubmit:function(t){return function(t,s,a){a.preventDefault(),e.setSearchedSerials.apply(e,Object(d.a)(function(e,t){var s=t.toLowerCase();if(0===+t)return[null,!1];var a=e.filter((function(e){return!!e.name.toLowerCase().includes(s)}));return a.length?[a,!1]:[a,!0]}(t,s)))}(o,n,t,e.setSearchedSerials)},children:[Object(E.jsx)("input",{value:n,className:"search__input",type:"search",name:"q",placeholder:"Search...","aria-label":"search though site content",onChange:function(e){return r(e.target.value)}}),Object(E.jsx)("button",{className:"search__btn",children:Object(E.jsx)("svg",{viewBox:"0 0 1024 1024",children:Object(E.jsx)("path",{className:"path1",d:"M848.471 928l-263.059-263.059c-48.941 36.706-110.118 55.059-177.412 55.059-171.294 0-312-140.706-312-312s140.706-312 312-312c171.294 0 312 140.706 312 312 0 67.294-24.471 128.471-55.059 177.412l263.059 263.059-79.529 79.529zM189.623 408.078c0 121.364 97.091 218.455 218.455 218.455s218.455-97.091 218.455-218.455c0-121.364-103.159-218.455-218.455-218.455-121.364 0-218.455 97.091-218.455 218.455z"})})})]})})})),re=s.p+"static/media/logo.7ec45a58.png",ie=function(){return Object(E.jsx)(j.b,{to:"/serials-tracker/booked",children:Object(E.jsxs)("div",{className:"favorite",children:["Favorite",Object(E.jsx)("img",{className:"favorite__picture",src:C,alt:"lol"})]})})},le=function(){return Object(E.jsx)(j.b,{to:"/serials-tracker",children:Object(E.jsxs)("div",{className:"favorite",children:["Main",Object(E.jsx)("img",{className:"favorite__picture",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA9gAAAPYBa0iqmwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAHwSURBVFiF7Ze9SgNREIW/UbGKEGyt/C0tLOwCgq9gpyBaiVUQfAGLIEGraKlYWghCsFGw8QkCKqiI2Fhp1CIgQXAsdlY2N5tlsyZGwQsHkpk7Z87uPRluRFXp5OrqaPffIKAnaaGIjAPz9nVPVc+d/AwwFwh9AGuqWqohUtWmASwCVUANVWDB2bMfyPvIulxNHYGIdInIJrAD9AZSvcCuiORFpCnO2JtFpA8oAiuB8LPBX6vAoYikYiuI+coHgQtqX+cVMGK4cnIl4IwYRxCneQZ4dIiOgTQwaUhbzG34PQHUm02BAtANzAJvhlmLFVoiAM8bG07xO7BkufUQ8nXLLdneZAKAPuDIKXwGpi1XjHjCou2ZtprmBESYbRQYCsmF4cL2joaY8xIYDBXQwGwnZrAp4ClGcx9PVpM2jmDuEcjUCAAWqDfbFt6ojjrTKPie6TGuYO5rcgLkQgqXrXA7QWMX28a1HPIgOfCGhmu2fuC0Bc19nBqna84SwDBQBq6BMcNtC5v7uMUz5pj1KgPDvgcGgJR9zrahuY+s9UgBA6rq3QdU9YEfXKpaASrwC25ESQXk8YZWEPkkREmvZC+qeh8MiMhLEqI/ewT/Atoq4LWN/eq4w34FB8AE3shstO4axI4jam6Mu2bJ/5/TTgv4BG0VPKc6NxBTAAAAAElFTkSuQmCC",alt:"lol"})]})})},oe=function(){var e=Object(u.e)().pathname.replace(/\//gi,""),t="serials-tracker"===e?"":"header_booked";return Object(E.jsxs)("header",{className:"header ".concat(t),children:[Object(E.jsx)("div",{className:"logo",children:Object(E.jsx)("img",{className:"logo__picture",src:re,alt:"sorry"})}),Object(E.jsx)(ne,{}),"serials-tracker"===e?Object(E.jsx)(ie,{}):Object(E.jsx)(le,{})]})},je=s(96),ue={setSearchedSerials:x},de=Object(i.b)((function(e){return{searchedList:e.dataOfSerials.searchedList}}),ue)((function(e){var t=Object(a.useRef)(null);return Object(E.jsx)(je.a,{in:e.searchedList.state,classNames:"popup",nodeRef:t,timeout:1e3,children:Object(E.jsx)("div",{className:"popup",ref:t,onClick:function(t){t.target.classList.contains("popup")&&e.setSearchedSerials(null,!1)},children:Object(E.jsxs)("div",{className:"popup__container",children:[Object(E.jsx)("p",{className:"popup__text",children:"Oooops... Sorry we didn't find nothing for your request. Try again!"}),Object(E.jsx)("button",{className:"popup__btn",onClick:function(){return e.setSearchedSerials(null,!1)}})]})})})})),be=Object(l.c)(I,Object(l.a)(o.a));var Oe=function(){return Object(E.jsxs)(i.a,{store:be,children:[Object(E.jsxs)(j.a,{children:[Object(E.jsx)(oe,{}),Object(E.jsxs)(u.c,{children:[Object(E.jsx)(u.a,{exact:!0,path:"/serials-tracker",caseSensitive:!1,element:Object(E.jsx)(G,{})}),Object(E.jsx)(u.a,{path:"/serials-tracker/booked",caseSensitive:!1,element:Object(E.jsx)(ae,{})})]})]}),Object(E.jsx)(de,{})]})},he=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,97)).then((function(t){var s=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,r=t.getTTFB;s(e),a(e),c(e),n(e),r(e)}))};r.a.render(Object(E.jsx)(c.a.StrictMode,{children:Object(E.jsx)(Oe,{})}),document.getElementById("root")),he()}},[[92,1,2]]]);
//# sourceMappingURL=main.a109709d.chunk.js.map